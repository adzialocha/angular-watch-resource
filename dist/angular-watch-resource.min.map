{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","cacheKey","dataKey","sideload","sideloadKey","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","updateData","rResourceName","rLastUpdate","cachedAtomicKeys","doUpdate","cantFindItem","atomic","cacheKeyArray","collectionArray","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cResources","sKey","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","objectData","sideloadData","atomicCacheKeys","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","res","buildCollection","rIds","collectionKey","rCustomCacheKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","cachedAtomicCacheKeys","resolve","then","fResult","concat","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":"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"}