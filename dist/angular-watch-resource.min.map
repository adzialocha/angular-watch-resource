{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","cacheKey","sideload","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","updateData","rResourceName","rLastUpdate","cachedAtomicKeys","doUpdate","cantFindItem","atomic","cacheKeyArray","collectionArray","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cResources","sKey","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","atomicCacheKeys","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","res","buildCollection","rIds","collectionKey","rCustomCacheKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","cachedAtomicCacheKeys","resolve","then","fResult","concat","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":";;CAAA,SAAUA,EAAQC,EAASC,GAEzB,YAIA,IAAIC,GAAkBF,EAAQG,OAAO,sBAKrCD,GAAgBE,SAAS,yBAA2B,WAElD,GAAIC,IACFC,SAAU,GACVC,eACAC,iBACAC,mBAGEC,GACFC,YAAa,SAASC,GAChBA,GAA0B,gBAAVA,KAClBP,EAAeC,SAAWM,IAG9BC,eAAgB,SAASC,GACnBA,GAASd,EAAQe,SAASD,KAC5BT,EAAeE,YAAcO,IAGjCE,iBAAkB,SAASC,GACrBA,GAAWjB,EAAQe,SAASE,KAC9BZ,EAAeG,cAAgBS,IAGnCC,kBAAmB,SAASC,GACtBA,GAAYnB,EAAQe,SAASI,KAC/Bd,EAAeI,eAAiBU,IAGpCC,KAAM,WACJ,OACEd,SAAUD,EAAeC,SACzBC,YAAaF,EAAeE,YAC5BC,cAAeH,EAAeG,cAC9BC,eAAgBJ,EAAeI,iBAKrC,OAAOC,MAMTR,EAAgBmB,QAAQ,YAAc,gBAAiB,QAAS,KAAM,YAAa,wBACjF,SAASC,EAAeC,EAAOC,EAAIC,EAAWC,GAI9C,GAAIC,GAAS,KACTC,EAAkB,EAElBC,GAA8B,MAAO,QACrCC,GAAiC,MAAO,OAAQ,UAEhDC,EAA8B,OAE9BC,EAAyB,KACzBC,KACAC,KAEAC,EAAW,EACXC,EAAW,EACXC,EAAkB,EAElBC,EAAoB,GACpBC,EAAiB,GACjBC,EAAiB,GACjBC,EAAe,GAIfC,GACFC,SAAU,EACVC,QAAQ,EACRC,SAAU5C,EACV6C,YACAC,UACAC,iBAAiB,EACjBC,aAAc,OACdC,OAAQ,MACRC,KAAMnD,EAAQoD,KAAK1B,EAAsBnB,aACzC8C,OAAQrD,EAAQoD,KAAK1B,EAAsBlB,eAC3C8C,QAAStD,EAAQoD,KAAK1B,EAAsBjB,iBAG1C8C,EAAY3B,EACZ4B,KAEAC,KAIAC,IAIJA,GAAEC,OAAS,SAASC,GAClB,MAAOA,GAAOC,OAAO,SAASC,EAAOC,EAAOC,GAC1C,MAAOA,GAAKC,QAAQH,KAAWC,KAMnCL,EAAEQ,KAAO,SAASN,GAChB,MAAOA,GAAOM,KAAK,SAASC,EAAOC,GACjC,MAAOD,GAAQC,KAMnBV,EAAEW,KAAO,SAASC,GAChB,GAAID,GAAME,EAAGC,CAGb,IAFAH,EAAO,EACPG,EAAMF,EAAQG,OACF,IAARD,EACF,MAAOH,EAET,KAAKE,EAAI,EAAOC,EAAJD,EAASA,IACnBF,GAAWA,GAAQ,GAAMA,EAASC,EAAQI,WAAWH,GACrDF,GAAcA,CAEhB,OAAOA,GAAKM,YAKdjB,EAAEkB,OAAS,SAASC,EAASC,GAE3B,GAAIC,GAAW/E,EAAQoD,KAAKyB,EAc5B,OAZIC,IACF9E,EAAQgF,QAAQC,OAAOC,KAAKJ,GAAe,SAASK,GAC9CA,IAAQJ,UAAmBA,GAASI,UAAiBL,GAAaK,KAElEJ,EAASI,GADPnF,EAAQe,SAASgE,EAASI,IACXnF,EAAQoF,OAAOL,EAASI,GAAOL,EAAaK,IAE5CL,EAAaK,MAM/BJ,GAKTrB,EAAE2B,IAAM,WACN,GAAIC,GAAO,GAAIC,KACf,OAAOD,GAAKE,WAKd9B,EAAE+B,QAAU,SAASC,GACnB,MAAIA,GACE1F,EAAQ2F,QAAQD,GACX1F,EAAQ4F,OAAO3D,EAAeyD,GAE9B1F,EAAQ4F,OAAO1D,EAAgBwD,IAGjC,GAMXhC,EAAEmC,MAAQ,SAASC,EAAaC,GAC9B,GAAIC,KAMJ,OALAhG,GAAQgF,QAAQc,EAAa,SAASG,GAChCF,IAAeE,IACjBD,EAAOE,KAAKD,EAAMF,MAGfC,GAKTtC,EAAEyC,UAAY,SAASC,GACrB,GAAIC,GAAYC,CAqBhB,OAnBAD,MACAC,EAAa,GAEbtG,EAAQgF,QAAQC,OAAOC,KAAKkB,GAAU,SAASG,GACzCH,EAAQI,eAAeD,KACrBvG,EAAQ2F,QAAQS,EAAQG,IAC1BvG,EAAQgF,QAAQoB,EAAQG,GAAO,SAASE,GACtCJ,EAAWH,KAAKQ,mBAAmBH,GAAQ,MAAQE,KAGrDJ,EAAWH,KAAKQ,mBAAmBH,GAAQ,IAAMG,mBAAmBN,EAAQG,QAK9EF,EAAW5B,OAAS,IACtB6B,EAAa,IAAMD,EAAWM,KAAK,MAG9BL,EAQT,IAAIM,KAIJA,GAAcC,MAAQ,SAASC,EAAWC,GAIxC,GAAIC,GAAQC,KACRC,EAAKJ,EAAUK,QAAQC,QAAQvE,SAC/BwE,GAAY,CAEhB,KAAMrH,EAAQsH,SAASP,GACrB,KAAM,oDAmCR,OA9BOG,KAAM1D,GAGPA,EAAc0D,GAAIK,YAAcR,IAClCE,KAAKO,KAAKV,GACNC,EAAa,IACfM,GAAY,IALhBA,GAAY,EAUVA,IAEF7D,EAAc0D,IACZK,UAAWR,EACXU,QAASxH,GAGXuD,EAAc0D,GAAIO,QAAUhG,EAAU,WAEpCqF,EAAUY,MAAM,KAAM,WAEpBV,EAAMQ,KAAKV,KACV,IAEFC,GAEHtD,EAAQkE,YAAcnE,GAGjB6D,GAMTT,EAAcY,KAAO,SAASV,GAI5B,GAAII,GAAKJ,EAAUK,QAAQC,QAAQvE,QAEnC,OAAOqE,KAAM1D,IAIb/B,EAAUmG,OAAOpE,EAAc0D,GAAIO,eAC5BjE,GAAc0D,GACrBzD,EAAQkE,YAAcnE,GAEf,IAPE,EAiBX,IAAIqE,GAAQ,SAASC,GACnBrE,EAAQqE,MACRb,KAAKc,KAAOD,EACZb,KAAKe,QAAU1G,EAAcwG,GAG/BD,GAAMI,WAIJC,OAAQ,SAASC,GACf,MAAOnI,GAAQoI,UAAUnB,KAAKe,QAAQK,IAAIF,KAE5CE,IAAK,SAASF,GACZ,MAAOlB,MAAKe,QAAQK,IAAIF,IAE1BG,IAAK,SAASH,EAAWI,GAEvB,MADA9E,GAAQwD,KAAKc,MAAMI,GAAaI,EACzBtB,KAAKe,QAAQQ,IAAIL,EAAWI,IAKrC3D,OAAQ,SAASuD,EAAWI,EAAYE,GACtC,IAAMxB,KAAKiB,OAAOC,GAChB,MAAO,KAET,IAAIO,GAAOzB,KAAKoB,IAAIF,EACpB,OAAMO,IAGAD,IACJC,EAAKC,kBAAoBjF,EAAE2B,OAE7BqD,EAAKvF,KAAOoF,EACLtB,KAAKe,QAAQQ,IAAIL,EAAWO,KAN1B,GAWXE,SAAU,WAGR,MAFAnF,GAAQwD,KAAKc,SACbd,KAAKe,QAAQa,aACN,GAGTC,MAAO,SAASC,GAGd,aAFOtF,GAAQwD,KAAKc,MAAMgB,GAC1B9B,KAAKe,QAAQgB,OAAOD,IACb,GAWX,IAAIE,GAAgB,GAAIpB,GAAM,mBAC1BqB,EAAc,GAAIrB,GAAM,iBAIxBsB,IAOJA,GAAWC,UAMTC,UAAW,SAASC,EAAUC,GAE5B,GAAIpG,GAAMuF,CAEV,OAAgC,KAA5Ba,EAAiB9E,QACZ,GAGL6E,EAASE,MAAMC,OAASrH,GAC1BsG,EAAOQ,EAAYb,IAAIkB,EAAiB,IACxCpG,EAAOuF,EAAKvF,OAEZA,KACAnD,EAAQgF,QAAQuE,EAAkB,SAASG,GACzChB,EAAOQ,EAAYb,IAAIqB,GACvBvG,EAAK+C,KAAKwC,EAAKvF,SAInB8F,EAAcrE,OAAO0E,EAASzG,SAAUM,IAEjC,IAMTwG,WAAY,SAASL,EAAUM,EAAeC,GAE5C,GAAI1G,GAAMuF,EAAMoB,EAAkBC,EAAUC,CA+C5C,OA7CAD,IAAW,EAEPT,EAASE,MAAMC,OAASrH,GAE1BsG,EAAOQ,EAAYb,IAAIiB,EAASzG,UAE5B6F,GAAQA,EAAKC,kBAAoBkB,IACnCE,GAAW,EACX5G,EAAOuF,EAAKvF,QAKdA,KACA6G,GAAe,EAEfF,EAAmBX,EAAWc,OAAOC,cACnCZ,EAASE,MAAMW,gBACfP,GAGF5J,EAAQgF,QAAQ8E,EAAkB,SAASJ,GACzChB,EAAOQ,EAAYb,IAAIqB,GAEjBhB,GAMAA,EAAKC,kBAAoBkB,IAC3BE,GAAW,GAGb5G,EAAK+C,KAAKwC,EAAKvF,OARf6G,GAAe,MAehBA,GAAgB7G,GAAQ4G,GAC3Bd,EAAcrE,OAAO0E,EAASzG,SAAUM,GAGnC4G,IAWXZ,EAAWc,QAITG,YAAa,SAASC,EAAeC,GAC5B3I,IAAU2I,KAEfA,EAAQ3I,GAAU,aAAe4B,EACjCA,IAGF,IAAI6D,IAAU,GAAImD,IAAkBC,MAAMH,EAAeC,EAAQ3I,GAGjE,IAFAyF,EAAQqD,iBAEFvB,EAAYhB,OAAOd,EAAQvE,UAAW,CAC1C,GAAIoH,GAAS,GAAIS,GAAeL,EAAeC,EAAQ3I,GACvDuH,GAAYZ,IAAIlB,EAAQvE,SAAUoH,GAIpC,MADAf,GAAYtE,OAAOwC,EAAQvE,SAAUyH,GAC9BlD,EAAQvE,UAKjB8H,oBAAqB,SAASC,EAAeC,GAC3C,GAAI7D,GAAQC,IACZjH,GAAQgF,QAAQC,OAAOC,KAAK0F,GAAgB,SAASE,GAC/CA,IAAQD,IAAc7K,EAAQ2F,QAAQkF,EAAWC,KACnD9K,EAAQgF,QAAQ6F,EAAWC,GAAO,SAAS7E,GACzCe,EAAMoD,YAAYQ,EAAcE,GAAO7E,QAQ/CiE,cAAe,SAAUa,EAAYV,GACnC,GAAIW,KAMJ,OALAhL,GAAQgF,QAAQ+F,EAAY,SAASE,GACnC,GAAI7D,IAAU,GAAImD,IAAkBC,MAAMH,EAAeY,EACzD7D,GAAQqD,gBACRO,EAAU9E,KAAKkB,EAAQvE,YAElBmI,GAKTE,aAAc,SAASH,EAAYV,GACjC,MAAOU,GAAWlH,OAAO,SAASsH,GAChC,GAAI/D,IAAU,GAAImD,IAAkBC,MAAMH,EAAec,EAEzD,OADA/D,GAAQqD,iBACCvB,EAAYhB,OAAOd,EAAQvE,aAMxCuI,cAAe,SAASC,EAAUhB,EAAeC,GAC/C,GAAItD,GAAQC,KACRqE,IAWJ,OAVItL,GAAQ2F,QAAQ2E,GAClBtK,EAAQgF,QAAQsF,EAAS,SAASrE,GAChCqF,EAAgBpF,KAAKc,EAAMoD,YAAYC,EAAepE,OAGxDqF,EAAgBpF,KAAKe,KAAKmD,YAAYC,EAAeC,IAC9C5G,EAAE+B,QAAQ4F,EAASvI,WACxBmE,KAAK0D,oBAAoBU,EAASvI,SAAUwH,IAGzCgB,GAUX,IAAIZ,GAAiB,SAASd,EAAe2B,GAC3CtE,KAAKuE,kBAAoB9H,EAAE2B,MAC3B4B,KAAK0B,kBAAoB1B,KAAKuE,kBAC9BvE,KAAKwE,cAAgB7B,EACrB3C,KAAKyE,YAAcH,EACnBtE,KAAK9D,KAAOjB,GAUVqI,EAAkB,SAASoB,EAAOC,EAAOC,GAC3C5E,KAAK6E,MAAQH,GAAS,GACtB1E,KAAK8E,MAAQH,MACb3E,KAAKuC,MAAQqC,IAAWpC,KAAMrH,GAE9B6E,KAAKpE,SAAW5C,EAChBgH,KAAK+E,aAAe,GAKtBzB,GAAgBtC,UAAUgE,aAAe,WACvC,MAAOhF,MAAKuC,MAAMC,OAASpH,GAK7BkI,EAAgBtC,UAAUuC,MAAQ,SAASZ,EAAe2B,GAIxD,MAHAtE,MAAK6E,MAAQlC,EAAgB,OAC7B3C,KAAK8E,MAAMpK,GAAU4J,EACrBtE,KAAK8E,MAAMG,IAAMtC,EACV3C,MAKTsD,EAAgBtC,UAAUkE,gBAAkB,SAASvC,EAAewC,GAOlE,MANAnF,MAAK6E,MAAQlC,EACb3C,KAAKuC,OACHC,KAAMpH,EACN8H,gBAAiBiC,EACjBC,cAAerK,GAEViF,MAKTsD,EAAgBtC,UAAUwC,cAAgB,SAAS6B,GACjD,GAAIC,GAAMrH,EAAMX,EAAGC,CAKnB,IAHA+H,EAAOtF,KAAK6E,MACZS,EAAOA,EAAKC,QAAQ,OAAQ,KAExBvF,KAAK8E,MAIP,IAHA7G,EAAOD,OAAOC,KAAK+B,KAAK8E,OACxBvH,EAAMU,EAAKT,OAENF,EAAI,EAAOC,EAAJD,EAASA,IACnBgI,EAAOA,EAAKC,QAAQ,GAAIC,QAAO,IAAMvH,EAAKX,GAAI,KAAM0C,KAAK8E,MAAM7G,EAAKX,IAUxE,IANgB,MAAZgI,EAAK,KACPA,EAAO,IAAMA,GAGftF,KAAK+E,aAAeO,EAEhBtF,KAAKgF,eAAgB,CACvB,GAAIS,GAAShJ,EAAEW,KAAK4C,KAAKuC,MAAMW,gBAAgBxD,KAAK,KACpD4F,GAAOA,EAAO,IAAMtF,KAAKuC,MAAM6C,cAAgB,IAAMK,EASvD,MALEzF,MAAKpE,SADHyJ,EACcA,EAEAC,EAGXtF,MAKTsD,EAAgBtC,UAAU0E,aAAe,SAASvG,EAASwG,GACzD,GAAIvJ,GAAQiD,CAIZ,IAFAjD,EAAS+C,EAELa,KAAKgF,eAAgB,CACvB,GAAIY,KAEJ,IAAI5F,KAAKuC,MAAM6C,gBAAiBjG,GAC9B,KAAM,kEAINyG,GAAW5F,KAAKuC,MAAM6C,eADpBO,EACqCA,EAEA3F,KAAKuC,MAAMW,gBAGpD9G,EAASrD,EAAQoF,OAAOyH,EAAYzG,GAGtCE,EAAa5C,EAAEyC,UAAU9C,EAEzB,IAAI/C,GAAWoB,EAAsBpB,QAMrC,OAJsC,MAAlCA,EAASA,EAASmE,OAAS,KAC7BnE,EAAWA,EAASwM,MAAM,EAAGxM,EAASmE,OAAS,IAG1CnE,EAAW2G,KAAK+E,aAAe1F,EAQxC,IAAIyG,KAIJA,GAAavC,MAAQ,SAASlB,EAAU0D,GACtC,OACE9J,OAAQ8J,EAAS9J,OACjB+J,IAAK3D,EAASqD,aAAaK,EAAS3J,QACpCF,KAAM6J,EAAS7J,KACfG,QAAS0J,EAAS1J,QAClBN,gBAAiBgK,EAAShK,gBAC1BC,aAAc+J,EAAS/J,aACvBiK,OAAO,IAMXH,EAAaI,SAAW,SAASC,EAAU9D,EAAU0D,EAAUpD,GAC7D,GAAIyD,MACAC,GAAmB,EACnBxD,IAEJ,IAAIR,EAASE,MAAMC,OAASpH,EAAiB,CAE3C,GAAIkL,GAAsBpE,EAAWc,OAAOiB,aAAa5B,EAASE,MAAMW,gBAAiBP,EACzFyD,GAAUJ,IAAM3D,EAASqD,aAAaK,EAAS3J,OAAQkK,EAEvD,IAAIC,GAAYlE,EAASE,MAAMW,gBAAgBtG,OAAO,SAASoH,GAC7D,MAA8C,KAAvCsC,EAAoBtJ,QAAQgH,IAGrCnB,GAAmBX,EAAWc,OAAOC,cAAcsD,EAAW5D,GAE1DlG,EAAE+B,QAAQ8H,KACZD,GAAmB,OAGZhE,GAASE,MAAMC,OAASrH,EAE7B8G,EAAYhB,OAAOoB,EAASzG,YAC9BiH,GAAqBR,EAASzG,UAC9ByK,GAAmB,GAGZhE,EAASE,MAAMC,OAAStH,GAE7B8G,EAAcZ,IAAIiB,EAASzG,UAAU4K,YACvC3D,EAAmBpG,EAAEmC,MAAMoD,EAAcZ,IAAIiB,EAASzG,UAAUM,KAAMxB,GACtE2L,GAAmB,EAKvB,IAAII,GAAUhK,EAAEkB,OAAOwI,EAAUC,EAEjC,QACEC,iBAAkBA,EAClBxD,iBAAkBA,EAClB4D,QAASA,GAcb,IAAIC,GAAW,SAASrE,EAAUM,EAAeoD,GAI/C/F,KAAKE,SACHC,QAASkC,EACTsE,QAASZ,EACTa,UACAC,OAAQxL,GAKV2E,KAAKuE,kBAAoB9H,EAAE2B,MAC3B4B,KAAK0B,kBAAoB1B,KAAKuE,kBAC9BvE,KAAK8G,kBAAoB9N,EACzBgH,KAAKwE,cAAgB7B,EACrB3C,KAAK+G,KAAO1E,EAASqD,aAAaK,EAAS3J,QAI3C4D,KAAK9D,KAAOmG,EAASE,MAAMC,OAASrH,EAAWF,EAAiBD,EAIlE0L,GAAS1F,WAMPP,MAAO,SAASuG,EAAUC,EAAQC,EAAsBC,GAItD,QAASC,GAAcC,EAActB,EAAU1D,EAAUiF,GAEvD,GAAIC,EAIJA,GAAWhN,EAAGiN,OAEd,IAAIf,GAASL,EAAWjG,EAASwG,EAC7BtC,EAAiBoD,CAMrB,IAJAhB,EAAUY,EACVV,EAAUZ,EACV5F,EAAUkC,GAEJ6E,EAAsB,CAQ1B,GAPAd,EAAYN,EAAaI,SAASO,EAAStG,EAASwG,EAASW,GAC7DG,EAAwBrB,EAAUvD,iBAE5BsE,GACJjF,EAAWC,SAASC,UAAUjC,EAASsH,GAGrCrB,EAAUC,iBAGZ,MADAkB,GAASG,SAAQ,GACVH,EAAS/G,OAEhBiG,GAAUL,EAAUK,QA4BxB,MAtBAnM,GAAMmM,GAASkB,KAAK,SAASC,GAIrBT,IACJ9C,EAAkBnC,EAAWc,OAAOmB,cAAcwC,EAASW,EAAcM,EAAQ1L,MAI7EuL,GAAyBA,EAAsBjK,OAAS,IAC1D6G,EAAkBA,EAAgBwD,OAAOJ,IAG3CvF,EAAWC,SAASC,UAAUjC,EAASkE,IAGzCkD,EAASG,SAAQ,IAEhB,SAASI,GACVP,EAASQ,OAAOD,KAGXP,EAAS/G,QAMlB,QAASwH,GAAcC,EAAmBC,GAIxCD,EAAkB/H,QAAQ2G,OAASrL,EACnCyM,EAAkB/H,QAAQ0G,OAAO3H,KAAKiJ,EAAWhM,MAE7C+K,GAAUlO,EAAQoP,WAAWlB,IAC/BA,EAAOgB,GAOX,QAASG,GAAgBC,EAAWJ,GAElC1N,EAAG+N,IAAID,GAAWV,KAAK,SAASY,GAI1BA,IACFN,EAAkBnB,kBAAoBrK,EAAE2B,OAG1C6J,EAAkB/H,QAAQ2G,OAAStL,EAE/ByL,GAAYjO,EAAQoP,WAAWnB,IACjCA,EAASiB,IAGV,SAASC,GACVF,EAAcC,EAAmBC,KAOrC,GAAI/H,GAASwG,CAEbxG,GAAUH,KAAKE,QAAQC,QACvBwG,EAAU3G,KAAKE,QAAQyG,QAEjB3G,KAAKwG,YACTxG,KAAKE,QAAQ2G,OAASvL,EAMxB,IAAIkN,GAAaC,CAUjB,IARAD,EAAc1C,EAAavC,MAAMpD,EAASwG,GAE1C8B,KAEAA,EAASxJ,KAAKmI,EAAcoB,EAAa7B,EAASxG,EAASH,KAAKwE,gBAI5D/H,EAAE+B,QAAQmI,EAAQ7K,QACpBsM,EAAgBK,EAAUzI,UAErB,CAEL,GAAID,GAAQC,IAIZyI,GAAS,GAAGd,KAAK,WAEfc,IAEA,IAAIC,GAAgB1K,OAAOC,KAAK0I,EAAQ7K,QACpC6M,IAEJ5P,GAAQgF,QAAQ2K,EAAe,SAASE,GACtCD,EAAYC,OAGd,IAAIC,KAKFA,GAHK9P,EAAQ2F,QAAQqB,EAAM7D,MAGZ6D,EAAM7D,MAFJ6D,EAAM7D,MAOzBnD,EAAQgF,QAAQ8K,EAAc,SAASC,GACrC/P,EAAQgF,QAAQ2K,EAAe,SAASK,GACtC,GAAIC,GAAMrC,EAAQ7K,OAAOiN,GACrBE,EAAMH,EAAME,EACVjQ,GAAQ2F,QAAQuK,KACpBA,GAAQA,IAEVN,EAAYI,GAAiBJ,EAAYI,GAAelB,OAAOoB,OAMnElQ,EAAQgF,QAAQ4K,EAAa,SAASO,EAAeC,GAEnD,GAEIC,GAFAC,EAAS5M,EAAEQ,KAAKR,EAAEC,OAAOwM,IACzBI,EAAa7N,CAIf2N,GADoB,IAAlBC,EAAO7L,QACI,GAAI8F,IAAkBC,MAAM4F,EAAwBE,EAAO,KAE3D,GAAI/F,IAAkB4B,gBAAgBiE,EAAwBE,GAG7ED,EAAW5F,eAEX,IAAI+F,GAAazD,EAAavC,MAAM6F,EAAYE,EAEhDb,GAASxJ,KAAKmI,EAAcmC,EAAYD,EAAYF,EAAYD,MAIlEf,EAAgBK,EAAU1I,IAEzB,SAASyJ,GACVxB,EAAcjI,EAAOyJ,KAKzB,MAAOxJ,OAKTJ,MAAO,SAAS6J,GACd,MAAO9J,GAAcC,MAAMI,KAAMyJ,IAGnClJ,KAAM,WACJ,MAAOZ,GAAcY,KAAKP,OAK5B0J,QAAS,WACP,MAAO1J,MAAKE,QAAQ2G,SAAWrL,GAGjCgL,QAAS,WACP,MAAOxG,MAAKE,QAAQ2G,SAAWtL,GAGjCiD,QAAS,WACP,MAAOwB,MAAKE,QAAQ2G,SAAWtL,GAAkBkB,EAAE+B,QAAQwB,KAAK9D,OAKlEyN,QAAS,SAASC,GAChB,GAAIhD,GAAS5G,KAAKE,QAAQ0G,MAC1B,OAAsB,KAAlBA,EAAOpJ,OACFxE,EAED4Q,EAGGhD,EAFAA,EAAOA,EAAOpJ,OAAS,IAetC,IAAIqM,GAAsB,SAASnF,EAAOC,EAAOoB,EAAU+D,EAAenH,GAExE,GAAI4E,GAAUpH,EAASgC,EAAUwE,EAASW,CAc1C,IAZAC,EAAWhN,EAAGiN,QAIdb,EAAUZ,EAEH,UAAYY,KACjBA,EAAQ1K,OAASnB,GAGnB6L,EAAUlK,EAAEkB,OAAOlC,EAAgBkL,GAE0B,KAAzD9L,EAA6BmC,QAAQ2J,EAAQ1K,QAC/C,KAAM,6CAKR,KAAMQ,EAAE+B,QAAQsL,GAAgB,CAE9B,GAASrN,EAAE+B,QAAQsL,KAAmBA,EAAchJ,OAAQgJ,EAAc7J,KAAM6J,EAAcC,WAC5F,KAAM,6DAGR,KAAOhR,EAAQoP,WAAW2B,EAAcC,YACtC,KAAM,8DAGR,IAAI/G,GAAS,GAAIM,EAIjB,IAHAN,EAAOO,MAAMuG,EAAchJ,KAAMgJ,EAAc7J,IAC/C+C,EAAOQ,gBAEHvB,EAAYhB,OAAO+B,EAAOpH,UAAW,CACvC,GAAIM,GAAO+F,EAAYb,IAAI4B,EAAOpH,UAAUM,IAC5CoL,GAAewC,EAAchJ,KAC7BgJ,EAAcC,WAAW7N,GACzB+F,EAAYtE,OAAOqF,EAAOpH,SAAUM,GAAM,IAgB9C,MATAiE,GAAU,GAAImD,GAAgBoB,EAAOC,GAAOnB,gBAC5CrB,EAAW,GAAIuE,GAASvG,EAASwC,EAAegE,GAEhDxE,EAAS1B,MAAM,WACb8G,EAASG,QAAQvF,IAChB,WACDoF,EAASQ,OAAO5F,KACf,GAEIoF,EAAS/G,SAWdwJ,EAAkB,SAAStF,EAAOC,EAAOhC,EAAeoD,EAAUnB,GAEpE,GAAIzE,GAASjE,EAAMiG,CAUnB,IARAjG,EAAO0I,EAEH1I,EAAKsG,OAASpH,IAChBc,EAAKgH,gBAAkBzG,EAAEQ,KAAKR,EAAEC,OAAOR,EAAKgH,mBAG9C/C,EAAU,GAAImD,GAAgBoB,EAAOC,EAAOzI,GAAMsH,cAAcuC,EAASnK,UAEnEoG,EAAcf,OAAOd,EAAQvE,UAqCjCuG,EAAWH,EAAcZ,IAAIjB,EAAQvE,UAEjCuG,EAASqE,WACXtE,EAAWC,SAASO,WAAWvC,EAASwC,EAAeR,EAAST,uBAxCtB,CAI5C,GAAIiF,GAAUlK,EAAEkB,OAAOlC,EAAgBsK,EAEvC,IAAInB,EAAMpC,OAASrH,IAAcsB,EAAE+B,QAAQuH,EAASlK,UAClD,KAAM,yEAGR,KAAMY,EAAE+B,QAAQuH,EAASlK,YAAeY,EAAE+B,QAAQuH,EAASjK,QACzD,KAAM,kFAGR,IAA0D,KAAtDlB,EAA0BoC,QAAQ2J,EAAQ1K,QAC5C,KAAM,6CAKRkG,GAAW,GAAIuE,GAASvG,EAASwC,EAAegE,GAChD3E,EAAcX,IAAIlB,EAAQvE,SAAUuG,GAI9BwE,EAAQhL,QACZwG,EAAS1B,QAKPkG,EAAQjL,SAAW,GACrBiE,EAAcC,MAAMuC,EAAUwE,EAAQjL,UAa1C,MAAOyG,IASL8H,EAAkB,SAASvF,EAAOC,GAIpC,QAASuF,KAEP,IAAMxF,EACJ,KAAM,uCAGR,KAAM3L,EAAQe,SAASqQ,GACrB,KAAM,8DAKV,QAASC,GAAUzH,EAAeoD,EAAUnB,GAE1C,GAAI+B,EAIJ,IAFAuD,KAEOvH,GAA0C,gBAAlBA,GAC7B,KAAM,mEAKR,IAFAgE,EAAUZ,OAEJhN,EAAQe,SAASqQ,GACrB,KAAM,2DAGR,OAAOH,GAAgBtF,EAAOyF,EAAMxH,EAAegE,EAAS/B,GAG9D,QAASyF,GAAYtE,EAAU+D,EAAenH,GAC5C,GAAIgE,GAAUZ,KAId,IAFAmE,KAEOvH,GAA0C,gBAAlBA,GAC7B,KAAM,mEAGR,KAAM5J,EAAQe,SAASqQ,GACrB,KAAM,2DAGR,OAAON,GAAoBnF,EAAOyF,EAAMxD,EAASmD,EAAenH,GA9ClE,GAAIwH,GAAOxF,KAmDX,QAIE2D,IAAK,SAAS3F,EAAeoD,GAC3B,MAAOqE,GAAUzH,EAAeoD,GAAYvD,KAAMtH,KAGpDoP,IAAK,SAAS3H,EAAeoD,GAC3B,MAAOqE,GAAUzH,EAAeoD,GAAYvD,KAAMrH,KAGpDyK,WAAY,SAASjD,EAAe4H,EAAaC,EAAgBzE,GAC/D,GAAIiD,EAEJ,KAAOuB,IAAexR,EAAQ2F,QAAQ6L,GACpC,KAAM,+EAIR,OADAvB,GAAMwB,GAAkBzP,EACjBqP,EAAUzH,EAAeoD,GAAYvD,KAAMpH,EAAiBgK,cAAe4D,EAAK9F,gBAAiBqH,KAK1GE,KAAM,SAAS1E,EAAU+D,EAAenH,GACtC,MAAO0H,GAAYtE,EAAU+D,EAAenH,IAK9Cd,MAAO,SAASC,EAAMqD,GACpB,GAAIrD,EAAM,CACR,GAAIqD,EAAM,CACR,GAAI8D,GAAM9D,CASV,OARMpM,GAAQ2F,QAAQyG,KACpB8D,GAAQ9D,IAEVpM,EAAQgF,QAAQkL,EAAK,SAASyB,GAC5B,GAAIvK,IAAU,GAAImD,IAAkBC,MAAMzB,EAAM4I,EAChDvK,GAAQqD,gBACRvB,EAAYJ,MAAM1B,EAAQvE,aAErB,EAETqG,EAAYJ,MAAMC,GAClBE,EAAcH,MAAMC,OAEpBG,GAAYN,WACZK,EAAcL,UAEhB,QAAO,GAKTgJ,MAAO,WACL,MAAOnO,KAOb,OAAOyN,OAIRnR,OAAQA,OAAOC"}