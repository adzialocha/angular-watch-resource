{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","cacheKey","sideload","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","atomic","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cResources","sKey","cacheKeyArray","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","atomicCacheKeys","rResourceName","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","buildCollection","rIds","collectionArray","collectionKey","rCustomCacheKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","cachedAtomicKeys","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","cachedAtomicCacheKeys","resolve","then","fResult","concat","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":"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"}