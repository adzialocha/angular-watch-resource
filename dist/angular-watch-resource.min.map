{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","ResourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ID_KEY","FORCED_ID_START","DEFAULT_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","silent","withCredentials","responseType","sideload","data","copy","params","headers","_forcedId","__debug","_","unique","cArray","filter","value","index","self","indexOf","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","Cache","cName","this","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","$updatedTimestamp","resourceCache","atomicCache","CacheUtils","Resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","cacheKey","Atomic","_insertData","cResourceName","cObject","pointer","ResourcePointer","build","parseCacheKey","atomic","AtomicResource","_insertSideloadData","cSideloadData","cResources","_this","sKey","cacheKeyArray","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","atomicCacheKeys","rResourceName","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","path","replace","RegExp","hashed","collectionArray","collectionKey","serializeUrl","sOptimizedCollectionArray","collection","slice","RequestUtils","rOptions","url","request","method","cache","optimize","rRequest","optimized","requestNotNeeded","cachedAtomicKeys","optimizedCollection","cachedIds","isReady","$__meta","options","errors","status","$requestTimestamp","$url","fetch","fSuccess","fError","fDisableOptimization","isFunction","then","fResult","isError","message","mReturnAll","ResourceFactory","resource","sort","ResourceService","_delegate","vars","all","one","rCollection","rCollectionKey","key","manipulate","debug"],"mappings":"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"}