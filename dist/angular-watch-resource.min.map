{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","cacheKey","sideload","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","updateData","rResourceName","rLastUpdate","cachedAtomicKeys","doUpdate","atomic","cacheKeyArray","collectionArray","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cResources","sKey","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","atomicCacheKeys","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","res","buildCollection","rIds","collectionKey","rCustomCacheKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","cachedAtomicCacheKeys","resolve","then","fResult","concat","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":"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"}