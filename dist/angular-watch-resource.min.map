{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","cacheKey","dataKey","sideload","sideloadKey","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","updateData","rResourceName","rLastUpdate","cachedAtomicKeys","doUpdate","cantFindItem","atomic","cacheKeyArray","collectionArray","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cSideloadKey","cResources","resources","sKey","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","objectData","atomicCacheKeys","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","res","buildCollection","rIds","collectionKey","rCustomCacheKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","cachedAtomicCacheKeys","resolve","then","fResult","concat","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":"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"}