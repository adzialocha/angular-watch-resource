{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","resourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$interval","ResourceConfiguration","ID_KEY","FORCED_ID_START","ALLOWED_RETRIEVAL_METHODS","ALLOWED_MANIPULATION_METHODS","DEFAULT_MANIPULATION_METHOD","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","interval","silent","sideload","nested","withCredentials","responseType","method","data","copy","params","headers","_forcedId","_intervalJobs","__debug","_","unique","cArray","filter","value","index","self","indexOf","sort","aItem","bItem","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","intervalUtils","start","rResource","rFrequency","_this","this","id","$__meta","pointer","cacheKey","createNew","isNumber","frequency","stop","promise","fetch","__intervals","cancel","Cache","cName","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","pUpdateIsLocal","item","$updatedTimestamp","resetAll","removeAll","reset","rKey","remove","resourceCache","atomicCache","cacheUtils","resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","atomic","_insertData","cResourceName","cObject","ResourcePointer","build","parseCacheKey","AtomicResource","_insertSideloadData","cSideloadData","cResources","sKey","cacheKeyArray","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","atomicCacheKeys","rResourceName","rId","$createdTimestamp","$resourceName","$resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","buildCollection","rIds","collectionArray","collectionKey","path","replace","RegExp","hashed","serializeUrl","sOptimizedCollectionArray","collection","slice","requestUtils","rOptions","url","cache","optimize","rRequest","optimized","requestNotNeeded","cachedAtomicKeys","optimizedCollection","cachedIds","isReady","request","Resource","options","errors","status","$requestTimestamp","$url","fSuccess","fError","fDisableOptimization","fDisableCaching","handleRequest","rRequestData","resourceName","deferred","defer","resolve","then","fResult","fErrorData","reject","errorCallback","rResourceInstance","rErrorData","isFunction","finalizeRequest","rPromises","all","rHttpRequestNeeded","mainRequest","promises","resourceNames","resourceIds","rName","mainResource","rItem","eResourceName","key","ids","concat","rRequestedIds","rRequestedResourceName","resPointer","resIds","resOptions","resRequest","eErrorData","sIntervalFrequency","isError","message","mReturnAll","resourceManipulator","rLocalUpdates","manipulate","resourceFactory","resourceService","_isValid","vars","_delegate","_manipulate","one","rCollection","rCollectionKey","send","eId","debug"],"mappings":"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"}