{"version":3,"file":"angular-watch-resource.min.js","sources":["angular-watch-resource.js"],"names":["window","angular","undefined","ngWatchResource","module","provider","_configuration","basePath","defaultData","defaultParams","defaultHeaders","ResourceConfiguration","setBasePath","bPath","setDefaultData","bData","isObject","setDefaultParams","bParams","setDefaultHeaders","bHeaders","$get","factory","$cacheFactory","$http","$q","$timeout","ID_KEY","DEFAULT_COLLECTION_KEY","DEFAULT_ARRAY","DEFAULT_OBJECT","TYPE_ALL","TYPE_ONE","TYPE_COLLECTION","STATUS_INITALIZED","STATUS_LOADING","STATUS_FETCHED","STATUS_ERROR","defaultOptions","silent","withCredentials","responseType","method","data","copy","params","headers","__debug","_","unique","cArray","filter","value","index","self","indexOf","hash","hString","i","len","length","charCodeAt","toString","update","eSource","eDestination","extended","forEach","Object","keys","oKey","extend","now","date","Date","getTime","isEmpty","eTarget","isArray","equals","pluck","eCollection","eIdentifier","values","eItem","push","serialize","sParams","paramArray","serialized","pKey","hasOwnProperty","eArrayItem","encodeURIComponent","join","Cache","cName","this","name","storage","prototype","exists","pCacheKey","isDefined","get","set","pCacheData","put","$_updatedTimestamp","resourceCache","atomicCache","CacheUtils","Resource","buildData","rPointer","rAtomicCacheKeys","_data","type","aKey","cacheKey","Atomic","_insertData","cResourceName","cObject","pointer","ResourcePointer","build","parseCacheKey","atomic","AtomicResource","cacheKeyArray","cDataArray","cacheKeys","dItem","findUncached","eIdItem","populateCache","cOptions","_this","atomicCacheKeys","rResourceName","rId","_createdTimestamp","_updatedTimestamp","_resourceName","_resourceId","rPath","rVars","rData","_path","_vars","resourcePath","isCollection","path","replace","vKey","RegExp","hashed","collectionArray","collectionKey","serializeUrl","sOptimizedCollectionArray","collection","slice","RequestUtils","rOptions","url","request","cache","optimize","rRequest","optimized","requestNotNeeded","cachedAtomicKeys","optimizedCollection","cachedIds","isReady","$__meta","options","errors","status","$_createdTimestamp","$_requestTimestamp","$_resourceName","$_url","fetch","fSuccess","fError","fDisableOptimization","isFunction","then","fResult","isError","message","mReturnAll","ResourceFactory","resource","sort","ResourceService","_delegate","vars","all","one","rCollection","rCollectionKey","key","manipulate","debug"],"mappings":";;CAAA,SAAUA,EAAQC,EAASC,GAEzB,YAIA,IAAIC,GAAkBF,EAAQG,OAAO,qBAKrCD,GAAgBE,SAAS,yBAA2B,WAElD,GAAIC,IACFC,SAAU,GACVC,eACAC,iBACAC,mBAGEC,GACFC,YAAa,SAASC,GAChBA,GAA0B,gBAAVA,KAClBP,EAAeC,SAAWM,IAG9BC,eAAgB,SAASC,GACnBA,GAASd,EAAQe,SAASD,KAC5BT,EAAeE,YAAcO,IAGjCE,iBAAkB,SAASC,GACrBA,GAAWjB,EAAQe,SAASE,KAC9BZ,EAAeG,cAAgBS,IAGnCC,kBAAmB,SAASC,GACtBA,GAAYnB,EAAQe,SAASI,KAC/Bd,EAAeI,eAAiBU,IAGpCC,KAAM,WACJ,OACEd,SAAUD,EAAeC,SACzBC,YAAaF,EAAeE,YAC5BC,cAAeH,EAAeG,cAC9BC,eAAgBJ,EAAeI,iBAKrC,OAAOC,MAMTR,EAAgBmB,QAAQ,YAAc,gBAAiB,QAAS,KAAM,WAAY,wBAChF,SAASC,EAAeC,EAAOC,EAAIC,EAAUf,GAI7C,GAAIgB,GAAS,KAETC,EAAyB,KACzBC,KACAC,KAEAC,EAAW,EACXC,EAAW,EACXC,EAAkB,EAElBC,EAAoB,GACpBC,EAAiB,GACjBC,EAAiB,GACjBC,EAAe,GAIfC,GAEFC,QAAQ,EACRC,iBAAiB,EACjBC,aAAc,OACdC,OAAQ,MACRC,KAAM1C,EAAQ2C,KAAKjC,EAAsBH,aACzCqC,OAAQ5C,EAAQ2C,KAAKjC,EAAsBF,eAC3CqC,QAAS7C,EAAQ2C,KAAKjC,EAAsBD,iBAG1CqC,KAIAC,IAIJA,GAAEC,OAAS,SAASC,GAClB,MAAOA,GAAOC,OAAO,SAASC,EAAOC,EAAOC,GAC1C,MAAOA,GAAKC,QAAQH,KAAWC,KAMnCL,EAAEQ,KAAO,SAASC,GAChB,GAAID,GAAME,EAAGC,CAGb,IAFAH,EAAO,EACPG,EAAMF,EAAQG,OACF,IAARD,EACF,MAAOH,EAET,KAAKE,EAAI,EAAOC,EAAJD,EAASA,IACnBF,GAAWA,GAAQ,GAAMA,EAASC,EAAQI,WAAWH,GACrDF,GAAcA,CAEhB,OAAOA,GAAKM,YAKdd,EAAEe,OAAS,SAASC,EAASC,GAE3B,GAAIC,GAAWjE,EAAQ2C,KAAKoB,EAc5B,OAZIC,IACFhE,EAAQkE,QAAQC,OAAOC,KAAKJ,GAAe,SAASK,GAC9CA,IAAQJ,UAAmBA,GAASI,UAAiBL,GAAaK,KAElEJ,EAASI,GADPrE,EAAQe,SAASkD,EAASI,IACXrE,EAAQsE,OAAOL,EAASI,GAAOL,EAAaK,IAE5CL,EAAaK,MAM/BJ,GAKTlB,EAAEwB,IAAM,WACN,GAAIC,GAAO,GAAIC,KACf,OAAOD,GAAKE,WAKd3B,EAAE4B,QAAU,SAASC,GACnB,MAAIA,GACE5E,EAAQ6E,QAAQD,GACX5E,EAAQ8E,OAAOlD,EAAegD,GAE9B5E,EAAQ8E,OAAOjD,EAAgB+C,IAGjC,GAMX7B,EAAEgC,MAAQ,SAASC,EAAaC,GAC9B,GAAIC,KAMJ,OALAlF,GAAQkE,QAAQc,EAAa,SAASG,GAChCF,IAAeE,IACjBD,EAAOE,KAAKD,EAAMF,MAGfC,GAKTnC,EAAEsC,UAAY,SAASC,GACrB,GAAIC,GAAYC,CAqBhB,OAnBAD,MACAC,EAAa,GAEbxF,EAAQkE,QAAQC,OAAOC,KAAKkB,GAAU,SAASG,GACzCH,EAAQI,eAAeD,KACrBzF,EAAQ6E,QAAQS,EAAQG,IAC1BzF,EAAQkE,QAAQoB,EAAQG,GAAO,SAASE,GACtCJ,EAAWH,KAAKQ,mBAAmBH,GAAQ,MAAQE,KAGrDJ,EAAWH,KAAKQ,mBAAmBH,GAAQ,IAAMG,mBAAmBN,EAAQG,QAK9EF,EAAW5B,OAAS,IACtB6B,EAAa,IAAMD,EAAWM,KAAK,MAG9BL,EAST,IAAIM,GAAQ,SAASC,GACnBjD,EAAQiD,MACRC,KAAKC,KAAOF,EACZC,KAAKE,QAAU5E,EAAcyE,GAG/BD,GAAMK,WAIJC,OAAQ,SAASC,GACf,MAAOrG,GAAQsG,UAAUN,KAAKE,QAAQK,IAAIF,KAE5CE,IAAK,SAASF,GACZ,MAAOL,MAAKE,QAAQK,IAAIF,IAE1BG,IAAK,SAASH,EAAWI,GAEvB,MADA3D,GAAQkD,KAAKC,MAAMI,GAAaI,EACzBT,KAAKE,QAAQQ,IAAIL,EAAWI,IAKrC3C,OAAQ,SAASuC,EAAWI,GAE1B,GAAI/D,GAAOsD,KAAKO,IAAIF,EAGpB,OAFA3D,GAAKiE,mBAAqB5D,EAAEwB,MAC5B7B,EAAKA,KAAO+D,EACLT,KAAKE,QAAQQ,IAAIL,EAAW3D,IAWvC,IAAIkE,GAAgB,GAAId,GAAM,mBAC1Be,EAAc,GAAIf,GAAM,iBAIxBgB,IAOJA,GAAWC,UAMTC,UAAW,SAASC,EAAUC,GAE5B,GAAIxE,EAEJ,OAAgC,KAA5BwE,EAAiBvD,QACZ,GAGLsD,EAASE,MAAMC,OAASrF,EAC1BW,EAAOmE,EAAYN,IAAIW,EAAiB,IAAIxE,MAE5CA,KACA1C,EAAQkE,QAAQgD,EAAkB,SAASG,GACzC3E,EAAK0C,KAAKyB,EAAYN,IAAIc,GAAM3E,SAIpCkE,EAAc9C,OAAOmD,EAASK,SAAU5E,IAEjC,KAUXoE,EAAWS,QAITC,YAAa,SAASC,EAAeC,GACnC,KAAOhG,IAAUgG,IACf,KAAM,8CAGR,IAAIC,IAAU,GAAIC,IAAkBC,MAAMJ,EAAeC,EAAQhG,GAGjE,IAFAiG,EAAQG,iBAEFjB,EAAYT,OAAOuB,EAAQL,UAAW,CAC1C,GAAIS,GAAS,GAAIC,GAAeP,EAAeC,EAAQhG,GACvDmF,GAAYL,IAAImB,EAAQL,SAAUS,GAIpC,MADAlB,GAAY/C,OAAO6D,EAAQL,SAAUI,GAC9BC,EAAQL,UAKjBW,cAAe,SAAUC,EAAYT,GACnC,GAAIU,KAKJ,OAJAnI,GAAQkE,QAAQgE,EAAY,SAASE,GACnC,GAAIT,IAAU,GAAIC,IAAkBC,MAAMJ,EAAeW,EACzDD,GAAU/C,KAAKuC,EAAQG,mBAElBK,GAKTE,aAAc,SAASH,EAAYT,GACjC,MAAOS,GAAWhF,OAAO,SAASoF,GAChC,GAAIX,IAAU,GAAIC,IAAkBC,MAAMJ,EAAea,EAEzD,OADAX,GAAQG,iBACCjB,EAAYT,OAAOuB,EAAQL,aAMxCiB,cAAe,SAASC,EAAUf,EAAeC,GAC/C,GAAIe,GAAQzC,KACR0C,IAQJ,OAPI1I,GAAQ6E,QAAQ6C,GAClB1H,EAAQkE,QAAQwD,EAAS,SAASvC,GAChCuD,EAAgBtD,KAAKqD,EAAMjB,YAAYC,EAAetC,MAGxDuD,EAAgBtD,KAAKY,KAAKwB,YAAYC,EAAeC,IAEhDgB,GAUX,IAAIV,GAAiB,SAASW,EAAeC,GAC3C5C,KAAK6C,kBAAoB9F,EAAEwB,MAC3ByB,KAAK8C,kBAAoB9C,KAAK6C,kBAC9B7C,KAAK+C,cAAgBJ,EACrB3C,KAAKgD,YAAcJ,EACnB5C,KAAKtD,KAAOb,GAUV+F,EAAkB,SAASqB,EAAOC,EAAOC,GAC3CnD,KAAKoD,MAAQH,GAAS,GACtBjD,KAAKqD,MAAQH,MACblD,KAAKmB,MAAQgC,IAAW/B,KAAMrF,GAE9BiE,KAAKsB,SAAWrH,EAChB+F,KAAKsD,aAAe,GAKtB1B,GAAgBzB,UAAUoD,aAAe,WACvC,MAAOvD,MAAKmB,MAAMC,OAASpF,GAK7B4F,EAAgBzB,UAAU0B,MAAQ,SAASc,EAAeC,GAGxD,MAFA5C,MAAKoD,MAAQT,EAAgB,OAC7B3C,KAAKqD,MAAM3H,GAAUkH,EACd5C,MAKT4B,EAAgBzB,UAAU2B,cAAgB,WACxC,GAAI0B,GAAOxD,KAAKoD,MACZX,EAAQzC,IAgBZ,IAdAwD,EAAOA,EAAKC,QAAQ,OAAQ,KAExBzD,KAAKqD,OACPrJ,EAAQkE,QAAQC,OAAOC,KAAKqE,EAAMY,OAAQ,SAASK,GACjDF,EAAOA,EAAKC,QAAQ,GAAIE,QAAO,IAAMD,EAAM,KAAMjB,EAAMY,MAAMK,MAIjD,MAAZF,EAAK,KACPA,EAAO,IAAMA,GAGfxD,KAAKsD,aAAeE,EAEhBxD,KAAKuD,eAAgB,CACvB,GAAIK,GAAS7G,EAAEQ,KAAMyC,KAAKmB,MAAM0C,gBAAgBhE,KAAK,KACrD2D,GAAOA,EAAO,IAAMxD,KAAKmB,MAAM2C,cAAgB,IAAMF,EAKvD,MAFA5D,MAAKsB,SAAWkC,EAETxD,MAKT4B,EAAgBzB,UAAU4D,aAAe,SAASzE,EAAS0E,GACzD,GAAIpH,GAAQ4C,CAIZ,IAFA5C,EAAS0C,EAELU,KAAKuD,eAAgB,CACvB,GAAIU,KAEJ,IAAIjE,KAAKmB,MAAM2C,gBAAiBxE,GAC9B,KAAM,kEAIN2E,GAAWjE,KAAKmB,MAAM2C,eADpBE,EACqCA,EAEAhE,KAAKmB,MAAM0C,gBAGpDjH,EAAS5C,EAAQsE,OAAO2F,EAAY3E,GAGtCE,EAAazC,EAAEsC,UAAUzC,EAEzB,IAAItC,GAAWI,EAAsBJ,QAMrC,OAJsC,MAAlCA,EAASA,EAASqD,OAAS,KAC7BrD,EAAWA,EAAS4J,MAAM,EAAG5J,EAASqD,OAAS,IAG1CrD,EAAW0F,KAAKsD,aAAe9D,EAQxC,IAAI2E,KAIJA,GAAatC,MAAQ,SAASZ,EAAUmD,GACtC,GAAIC,GAAMpD,EAAS8C,aAAaK,EAASxH,QACrC0H,GACF7H,OAAQ2H,EAAS3H,OACjB4H,IAAKA,EACL3H,KAAM0H,EAAS1H,KACfG,QAASuH,EAASvH,QAClBN,gBAAiB6H,EAAS7H,gBAC1BC,aAAc4H,EAAS5H,aACvB+H,OAAO,EAET,OAAOD,IAKTH,EAAaK,SAAW,SAASC,EAAUxD,EAAUmD,EAAUzB,GAC7D,GAAI+B,MACAC,GAAmB,EACnBC,IAEJ,IAAI3D,EAASE,MAAMC,OAASpF,EAAiB,CAE3C,GAAI6I,GAAsB/D,EAAWS,OAAOc,aAAapB,EAASE,MAAM0C,gBAAiBlB,EACzF+B,GAAUL,IAAMpD,EAAS8C,aAAaK,EAASxH,OAAQiI,EAEvD,IAAIC,GAAY7D,EAASE,MAAM0C,gBAAgB3G,OAAO,SAASkF,GAC7D,MAA8C,KAAvCyC,EAAoBvH,QAAQ8E,IAGrCwC,GAAmB9D,EAAWS,OAAOU,cAAc6C,EAAWnC,GAE1D5F,EAAE4B,QAAQkG,KACZF,GAAmB,OAGZ1D,GAASE,MAAMC,OAASrF,EAE7B8E,EAAYT,OAAOa,EAASK,YAC9BsD,GAAqB3D,EAASK,UAC9BqD,GAAmB,GAGZ1D,EAASE,MAAMC,OAAStF,GAE7B8E,EAAcL,IAAIU,EAASK,UAAUyD,YACvCH,EAAmB7H,EAAEgC,MAAM6B,EAAcL,IAAIU,EAASK,UAAU5E,KAAMhB,GACtEiJ,GAAmB,EAKvB,IAAIL,GAAUvH,EAAEe,OAAO2G,EAAUC,EAEjC,QACEC,iBAAkBA,EAClBC,iBAAkBA,EAClBN,QAASA,GAcb,IAAIvD,GAAW,SAASE,EAAU0B,EAAeyB,GAI/CpE,KAAKgF,SACHrD,QAASV,EACTgE,QAASb,EACTc,UACAC,OAAQlJ,GAKV+D,KAAKoF,mBAAqBrI,EAAEwB,MAC5ByB,KAAKW,mBAAqBX,KAAKoF,mBAC/BpF,KAAKqF,mBAAqBpL,EAC1B+F,KAAKsF,eAAiB3C,EACtB3C,KAAKuF,MAAQtE,EAAS8C,aAAaK,EAASxH,QAI5CoD,KAAKtD,KAAOuE,EAASE,MAAMC,OAASrF,EAAWF,EAAiBD,EAIlEmF,GAASZ,WAMPqF,MAAO,SAASC,EAAUC,EAAQC,GAEhC,GACIhE,GAASsD,EAASvC,EAAiB4B,EADnC7B,EAAQzC,IAQZ,IALA2B,EAAU3B,KAAKgF,QAAQrD,QACvBsD,EAAUjF,KAAKgF,QAAQC,QAEvBX,EAAUH,EAAatC,MAAMF,EAASsD,IAEhCU,EAAsB,CAE1B,GAAIjB,GAAYP,EAAaK,SAASF,EAAS3C,EAASsD,EAASjF,KAAKsF,eAItE,IAHA5C,EAAkBgC,EAAUE,iBAC5B9D,EAAWC,SAASC,UAAUW,EAASe,GAEnCgC,EAAUC,iBAUZ,MARA3E,MAAKgF,QAAQG,OAAShJ,EAIlBsJ,GAAYzL,EAAQ4L,WAAWH,IACjCA,EAASzF,MAGJA,IAGPsE,GAAUI,EAAUJ,QAoCxB,MAhCAtE,MAAKgF,QAAQG,OAASjJ,EAItBX,EAAM+I,GAASuB,KAAK,SAASC,GAI3BpD,EAAkB5B,EAAWS,OAAOgB,cAAc0C,EAASxC,EAAM6C,eAAgBQ,EAAQpJ,MACzFoE,EAAWC,SAASC,UAAUW,EAASe,GAEvCD,EAAM4C,mBAAqBtI,EAAEwB,MAI7BkE,EAAMuC,QAAQG,OAAShJ,EAEnBsJ,GAAYzL,EAAQ4L,WAAWH,IACjCA,EAAShD,IAGV,SAASiD,GAEVjD,EAAMuC,QAAQG,OAAS/I,EACvBqG,EAAMuC,QAAQE,OAAO9F,KAAKsG,EAAOhJ,MAE7BgJ,GAAU1L,EAAQ4L,WAAWF,IAC/BA,EAAOjD,KAKJzC,MAKT+F,QAAS,WACP,MAAO/F,MAAKgF,QAAQG,SAAW/I,GAGjC2I,QAAS,WACP,MAAO/E,MAAKgF,QAAQG,SAAWhJ,GAGjCwC,QAAS,WACP,MAAOqB,MAAKgF,QAAQG,SAAWhJ,GAAkBY,EAAE4B,QAAQqB,KAAKtD,OAKlEsJ,QAAS,SAASC,GAChB,GAAIf,GAASlF,KAAKgF,QAAQE,MAC1B,OAAsB,KAAlBA,EAAOvH,OACF1D,EAEDgM,EAGGf,EAFAA,EAAOA,EAAOvH,OAAS,IAgBtC,IAAIuI,GAAkB,SAASjD,EAAOC,EAAOP,EAAeyB,EAAUjB,GAEpE,GAAIxB,GAASjF,EAAMyJ,CAUnB,IARAzJ,EAAOyG,EAEHzG,EAAK0E,OAASpF,IAChBU,EAAKmH,gBAAkB9G,EAAEC,OAAON,EAAKmH,iBAAiBuC,QAGxDzE,EAAU,GAAIC,GAAgBqB,EAAOC,EAAOxG,GAAMoF,gBAE5ClB,EAAcR,OAAOuB,EAAQL,UAQjC6E,EAAWvF,EAAcL,IAAIoB,EAAQL,cARO,CAC5C,GAAI2D,GAAUlI,EAAEe,OAAOzB,EAAgB+H,EACvC+B,GAAW,GAAIpF,GAASY,EAASgB,EAAesC,GAChDrE,EAAcJ,IAAImB,EAAQL,SAAU6E,GAC9BlB,EAAQ3I,QACZ6J,EAASX,OAAM,GAMnB,MAAOW,IASLE,EAAkB,SAASpD,EAAOC,GAIpC,QAASoD,GAAU3D,EAAeyB,EAAUjB,GAE1C,GAAI8B,EAEJ,KAAMhC,EACJ,KAAM,uCAGR,KAAMjJ,EAAQe,SAASwL,GACrB,KAAM,6DAGR,KAAO5D,GAA0C,gBAAlBA,GAC7B,KAAM,mEAKR,IAFAsC,EAAUb,OAEJpK,EAAQe,SAASwL,GACrB,KAAM,2DAGR,OAAOL,GAAgBjD,EAAOsD,EAAM5D,EAAesC,EAAS9B,GAxB9D,GAAIoD,GAAOrD,KA6BX,QAIEsD,IAAK,SAAS7D,EAAeyB,GAC3B,MAAOkC,GAAU3D,EAAeyB,GAAYhD,KAAMtF,KAGpD2K,IAAK,SAAS9D,EAAeyB,GAC3B,MAAOkC,GAAU3D,EAAeyB,GAAYhD,KAAMrF,KAGpDkI,WAAY,SAAStB,EAAe+D,EAAaC,EAAgBvC,GAC/D,GAAIwC,EAEJ,KAAOF,IAAe1M,EAAQ6E,QAAQ6H,GACpC,KAAM,+EAIR,OADAE,GAAMD,GAAkBhL,EACjB2K,EAAU3D,EAAeyB,GAAYhD,KAAMpF,EAAiB8H,cAAe8C,EAAK/C,gBAAiB6C,KAK1GG,WAAY,WAEV,OAAO,GAKTC,MAAO,WACL,MAAOhK,KAOb,OAAOuJ,OAIRtM,OAAQA,OAAOC"}